"use strict";function _interopDefault(t){return t&&"object"==typeof t&&"default"in t?t.default:t}var React=_interopDefault(require("react"));function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var e=arguments[r];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}return t}).apply(this,arguments)}function _objectWithoutPropertiesLoose(t,r){if(null==t)return{};var e,n,a={},o=Object.keys(t);for(n=0;n<o.length;n++)e=o[n],r.indexOf(e)>=0||(a[e]=t[e]);return a}function _objectWithoutProperties(t,r){if(null==t)return{};var e,n,a=_objectWithoutPropertiesLoose(t,r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(n=0;n<o.length;n++)e=o[n],r.indexOf(e)>=0||Object.prototype.propertyIsEnumerable.call(t,e)&&(a[e]=t[e])}return a}function _slicedToArray(t,r){return _arrayWithHoles(t)||_iterableToArrayLimit(t,r)||_nonIterableRest()}function _arrayWithHoles(t){if(Array.isArray(t))return t}function _iterableToArrayLimit(t,r){var e=[],n=!0,a=!1,o=void 0;try{for(var c,i=t[Symbol.iterator]();!(n=(c=i.next()).done)&&(e.push(c.value),!r||e.length!==r);n=!0);}catch(t){a=!0,o=t}finally{try{n||null==i.return||i.return()}finally{if(a)throw o}}return e}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function parseList(t){for(var r=[],e=[],n={},a=t.split("\n"),o=null,c=0;c<a.length;c++){var i=getListType(a[c]);i?(o?n[i.indent]||(n[i.indent]=[i.ordered?"ol":"ul"],o.push(n[i.indent])):(r.push(i.ordered?"ol":"ul"),o=r,n[i.indent]=r),n[i.indent].push(i),o=n[i.indent]):e.push("<p>".concat(a[c],"</p>"))}return e.push(closeNodes(r).join("\n")),e.join("\n")}function getListType(t){var r=/^([\t\s]*)(?:([\d]+\.)|([*-]))[\s][\S]/gim.exec(t);if(!r)return!1;var e=r[1].length;return r[2]?ListType(r[2],e,t.substr(e+r[2].length+1),!0):ListType(r[3],e,t.substr(e+r[3].length+1),!1)}function closeNodes(t){for(var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,e=["".concat(pad(2*r),"<").concat(t[0],">")],n=1;n<t.length;n++)Array.isArray(t[n])?(e.push("".concat(pad(2*r+2),"<li>")),(e=e.concat(closeNodes(t[n],r+2))).push("".concat(pad(2*r+2),"</li>"))):e.push("".concat(pad(2*r+2),"<li>").concat(t[n].text,"</li>"));return e.concat("".concat(pad(2*r),"</").concat(t[0],">"))}function pad(t){return"".padStart(t)}function ListType(t,r,e,n){return{match:t,indent:r,text:e,ordered:n}}function parser(t){return[parseParagraph,parseBold,parseItalic,parseAnchors].reduce(function(t,r){return r(t)},t)}function parseParagraph(t){var r=t.split("\n\n"),e=r.length;return r.reduce(function(t,r,n){var a,o=n+1<e?"\n":"";return getListType(r)?a=parseList(r):(a=parseHeader(r))||(a="<p>".concat(r,"</p>")),"".concat(t).concat(a).concat(o)},"")}function parseHeader(t){var r=/^([#]+)[\s](.+)/gim;return t.search(r)<0?null:t.replace(r,function(t,r,e){return"<h".concat(r.length,">").concat(e,"</h").concat(r.length,">")})}function parseBold(t){return t.replace(/\*\*([\S].+?[\S])\*\*/gi,function(t,r){return"<strong>".concat(r,"</strong>")})}function parseItalic(t){return t.replace(/\*([^\s\*].+?[^\s\*])\*/gi,function(t,r){return"<i>".concat(r,"</i>")})}function parseAnchors(t){var r=/\[([^\]]+)\]\(([^\)]+)\)/gi.exec(t);if(!r)return t;var e=r.index,n=_slicedToArray(r,3),a=n[0],o=n[1],c=n[2],i=t.substr(0,e),u=t.substr(e+a.length);return"".concat(i,'<a href="').concat(c,'">').concat(o,"</a>").concat(u)}function Markdown(t){var r=t.data,e=_objectWithoutProperties(t,["data"]);return React.createElement("div",_extends({},e,{dangerouslySetInnerHTML:{__html:parser(r)}}))}module.exports=Markdown;