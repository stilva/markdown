"use strict";function _interopDefault(e){return e&&"object"==typeof e&&"default"in e?e.default:e}var React=require("react"),React__default=_interopDefault(React);function _extends(){return(_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function _objectWithoutPropertiesLoose(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}function _objectWithoutProperties(e,t){if(null==e)return{};var r,n,a=_objectWithoutPropertiesLoose(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_nonIterableRest()}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _iterableToArrayLimit(e,t){var r=[],n=!0,a=!1,o=void 0;try{for(var c,i=e[Symbol.iterator]();!(n=(c=i.next()).done)&&(r.push(c.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{n||null==i.return||i.return()}finally{if(a)throw o}}return r}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function parseList(e){if(!getListType(e))return null;for(var t=[],r=[],n={},a=e.split("\n"),o=null,c=0;c<a.length;c++){var i=getListType(a[c]);i?(o?n[i.indent]||(n[i.indent]=[i.ordered?"ol":"ul"],o.push(n[i.indent])):(t.push(i.ordered?"ol":"ul"),o=t,n[i.indent]=t),n[i.indent].push(i),o=n[i.indent]):r.push("<p>".concat(a[c],"</p>"))}return r.push(closeNodes(t).join("\n")),r.join("\n")}function getListType(e){var t=/^([\t\s]*)(?:([\d]+\.)|([*-]))[\s][\S]/gim.exec(e);if(!t)return!1;var r=t[1].length;return t[2]?ListType(t[2],r,e.substr(r+t[2].length+1),!0):ListType(t[3],r,e.substr(r+t[3].length+1),!1)}function closeNodes(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=["".concat(pad(2*t),"<").concat(e[0],">")],n=1;n<e.length;n++)Array.isArray(e[n])?(r.push("".concat(pad(2*t+2),"<li>")),(r=r.concat(closeNodes(e[n],t+2))).push("".concat(pad(2*t+2),"</li>"))):r.push("".concat(pad(2*t+2),"<li>").concat(e[n].text,"</li>"));return r.concat("".concat(pad(2*t),"</").concat(e[0],">"))}function pad(e){return"".padStart(e)}function ListType(e,t,r,n){return{match:e,indent:t,text:r,ordered:n}}function parser(e,t){var r=[parseBlock,parseBold,parseItalic,parseAnchors].reduce(function(e,t){return t(e)},e);if(t&&"undefined"!=typeof sessionStorage){var n=sessionStorage.getItem(sessionKey(t));if(n)return n;sessionStorage.setItem(sessionKey(t),r)}return r}function parseBlock(e){var t=e.split("\n\n"),r=t.length,n=[parseList,parseHeader,parseImages,parseCode,parseParagraph];return t.reduce(function(e,t,a){var o=a+1<r?"\n":"",c=n.reduce(function(e,r){return e||r(t)},null);return"".concat(e).concat(c).concat(o)},"")}function parseParagraph(e){return"<p>".concat(e,"</p>")}function parseCode(e){var t=e.replace(/^```([\w]+)?/gi,function(e,t){return t?'<code class="language-'.concat(t,'">'):"<code>"});return t===e?null:t.replace(/```$/,function(e){return"</code>"})}function parseHeader(e){var t=/^([#]+)[\s](.+)/gim;return e.search(t)<0?null:e.replace(t,function(e,t,r){return"<h".concat(t.length,">").concat(r,"</h").concat(t.length,">")})}function parseBold(e){return e.replace(/\*\*([\S].+?[\S])\*\*/gi,function(e,t){return"<strong>".concat(t,"</strong>")})}function parseItalic(e){return e.replace(/\*([^\s\*].+?[^\s\*])\*/gi,function(e,t){return"<i>".concat(t,"</i>")})}function parseImages(e){var t=/!\[([^\]]+)\]\(([^\)]+)\)/gi.exec(e);if(!t)return null;var r=t.index,n=_slicedToArray(t,3),a=n[0],o=n[1],c=n[2],i=e.substr(0,r),s=e.substr(r+a.length);return'<div class="image-wrapper">'.concat(i,'<img src="').concat(c,'" alt="').concat(o,'" />').concat(s,"</div>")}function parseAnchors(e){var t=/\[([^\]]+)\]\(([^\)]+)\)/gi.exec(e);if(!t)return e;var r=t.index,n=_slicedToArray(t,3),a=n[0],o=n[1],c=n[2],i=e.substr(0,r),s=e.substr(r+a.length);return"".concat(i,'<a href="').concat(c,'">').concat(o,"</a>").concat(s)}function sessionKey(e){return"markdown.parser.".concat(e)}var index=React.memo(function(e){var t=e.cacheid,r=e.data,n=_objectWithoutProperties(e,["cacheid","data"]);return React__default.createElement("div",_extends({},n,{dangerouslySetInnerHTML:{__html:parser(r,t)}}))});module.exports=index;