"use strict";function _interopDefault(t){return t&&"object"==typeof t&&"default"in t?t.default:t}var React=_interopDefault(require("react"));function _slicedToArray(t,r){return _arrayWithHoles(t)||_iterableToArrayLimit(t,r)||_nonIterableRest()}function _arrayWithHoles(t){if(Array.isArray(t))return t}function _iterableToArrayLimit(t,r){var n=[],e=!0,a=!1,c=void 0;try{for(var o,i=t[Symbol.iterator]();!(e=(o=i.next()).done)&&(n.push(o.value),!r||n.length!==r);e=!0);}catch(t){a=!0,c=t}finally{try{e||null==i.return||i.return()}finally{if(a)throw c}}return n}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function parseList(t){for(var r=[],n=[],e={},a=t.split("\n"),c=null,o=0;o<a.length;o++){var i=getListType(a[o]);i?(c?e[i.indent]||(e[i.indent]=[i.ordered?"ol":"ul"],c.push(e[i.indent])):(r.push(i.ordered?"ol":"ul"),c=r,e[i.indent]=r),e[i.indent].push(i),c=e[i.indent]):n.push("<p>".concat(a[o],"</p>"))}return n.push(closeNodes(r).join("\n")),n.join("\n")}function getListType(t){var r=/^([\t\s]*)(?:([\d]+\.)|([*-]))[\s][\S]/gim.exec(t);if(!r)return!1;var n=r[1].length;return r[2]?ListType(r[2],n,t.substr(n+r[2].length+1),!0):ListType(r[3],n,t.substr(n+r[3].length+1),!1)}function closeNodes(t){for(var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=["".concat(pad(2*r),"<").concat(t[0],">")],e=1;e<t.length;e++)Array.isArray(t[e])?(n.push("".concat(pad(2*r+2),"<li>")),(n=n.concat(closeNodes(t[e],r+2))).push("".concat(pad(2*r+2),"</li>"))):n.push("".concat(pad(2*r+2),"<li>").concat(t[e].text,"</li>"));return n.concat("".concat(pad(2*r),"</").concat(t[0],">"))}function pad(t){return"".padStart(t)}function ListType(t,r,n,e){return{match:t,indent:r,text:n,ordered:e}}function parser(t){return[parseParagraph,parseBold,parseItalic,parseAnchors].reduce(function(t,r){return r(t)},t)}function parseParagraph(t){var r=t.split("\n\n"),n=r.length;return r.reduce(function(t,r,e){var a,c=e+1<n?"\n":"";return getListType(r)?a=parseList(r):(a=parseHeader(r))||(a="<p>".concat(r,"</p>")),"".concat(t).concat(a).concat(c)},"")}function parseHeader(t){var r=/^([#]+)[\s](.+)/gim;return t.search(r)<0?null:t.replace(r,function(t,r,n){return"<h".concat(r.length,">").concat(n,"</h").concat(r.length,">")})}function parseBold(t){return t.replace(/\*\*([\S].+?[\S])\*\*/gi,function(t,r){return"<strong>".concat(r,"</strong>")})}function parseItalic(t){return t.replace(/\*([^\s\*].+?[^\s\*])\*/gi,function(t,r){return"<i>".concat(r,"</i>")})}function parseAnchors(t){var r=/\[([^\]]+)\]\(([^\)]+)\)/gi.exec(t);if(!r)return t;var n=r.index,e=_slicedToArray(r,3),a=e[0],c=e[1],o=e[2],i=t.substr(0,n),u=t.substr(n+a.length);return"".concat(i,'<a href="').concat(o,'">').concat(c,"</a>").concat(u)}function Markdown(t){var r=t.data;return React.createElement("div",{dangerouslySetInnerHTML:{__html:parser(r)}})}module.exports=Markdown;